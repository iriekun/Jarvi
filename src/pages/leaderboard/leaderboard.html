<!--
  Generated template for the Leaderboard page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="secondary">
    <ion-title>Leaderboard</ion-title>

  </ion-navbar>
     <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="ranking"> 
      <ion-segment-button [value]=1 (ionSelect)="ionViewDidEnter()">Leaderboard </ion-segment-button>
      <ion-segment-button [value]=2 (ionSelect)="loadActivity()"> Progress </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content class="list-avatar-page">
  <div [ngSwitch]="ranking">
    <div *ngSwitchCase="2">
      <ion-grid *ngIf="ranking==2">
        <ion-row>
          <ion-col style="text-align: center;">
            <div><h3>{{this.total_point}}</h3> <br> Total Points </div>
          </ion-col>
          <ion-col style="text-align: center;">
            <div> <h3>{{this.total_obs}}</h3> <br> Total Observations </div>
          </ion-col>
        </ion-row>
      </ion-grid>    
      <!-- <ion-list>
        <ion-list-header>History</ion-list-header>
          <ion-item *ngFor="let i of range(this.len)">
            <p>{{this.dateArray[i]}}</p>
            <h4>{{this.taskArray[i].split("-")[0]}}</h4>
            <p>{{this.taskArray[i].split("-")[1]}}</p>
          </ion-item>
      </ion-list> -->
    </div>
    <div *ngSwitchCase="1">
      <ion-list *ngIf="ranking==1">
       <!-- <ion-item *ngFor="let i of range(this.len)"> -->
       <ion-item *ngFor="let item of this.leaderboardList">
          <ion-avatar item-left>
            <img [src]="item.user_photo">
          </ion-avatar>
          <h2>{{item.user_name}}</h2>
          <ion-note item-right>{{item.user_points}} points</ion-note>
        </ion-item>
      </ion-list>
    </div>
  </div>
  <ion-card *ngIf="ranking==2">
        <ion-card-header>
          Progress to Accomplish Mission
        </ion-card-header>
        <ion-card-content>
            <canvas #doughnutCanvas></canvas>
        </ion-card-content>
  </ion-card>
</ion-content>
